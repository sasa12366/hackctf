@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    /* Hacker black-green theme */
    --background: 222 20% 6%;
    --foreground: 210 40% 98%;

    --card: 222 22% 8%;
    --card-foreground: 210 40% 98%;

    --popover: 222 22% 8%;
    --popover-foreground: 210 40% 98%;

    --primary: 140 78% 45%;
    --primary-foreground: 210 40% 98%;

    --secondary: 160 50% 22%;
    --secondary-foreground: 210 40% 98%;

    --muted: 220 16% 14%;
    --muted-foreground: 215 20% 65%;

    --accent: 150 100% 40%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 210 40% 98%;

    --border: 220 12% 18%;
    --input: 220 12% 18%;
    --ring: 140 78% 45%;

    --radius: 0.75rem;

    /* Sidebar */
    --sidebar-background: 222 22% 8%;
    --sidebar-foreground: 210 40% 98%;
    --sidebar-primary: 140 78% 45%;
    --sidebar-primary-foreground: 210 40% 98%;
    --sidebar-accent: 220 16% 14%;
    --sidebar-accent-foreground: 210 40% 98%;
    --sidebar-border: 220 12% 18%;
    --sidebar-ring: 140 78% 45%;

    /* Design tokens */
    --gradient-hero: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(150 90% 50%) 50%, hsl(160 100% 60%) 100%);
    --shadow-elegant: 0 10px 30px -10px hsl(140 78% 45% / 0.45);
  }

  .dark {
    /* Dark theme (deeper blacks) */
    --background: 222 22% 5%;
    --foreground: 210 40% 98%;

    --card: 222 22% 7%;
    --card-foreground: 210 40% 98%;

    --popover: 222 22% 7%;
    --popover-foreground: 210 40% 98%;

    --primary: 140 86% 50%;
    --primary-foreground: 210 40% 98%;

    --secondary: 160 50% 22%;
    --secondary-foreground: 210 40% 98%;

    --muted: 220 16% 12%;
    --muted-foreground: 215 20% 65%;

    --accent: 150 100% 42%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 63% 31%;
    --destructive-foreground: 210 40% 98%;

    --border: 220 12% 16%;
    --input: 220 12% 16%;
    --ring: 140 86% 50%;

    --sidebar-background: 222 22% 7%;
    --sidebar-foreground: 210 40% 98%;
    --sidebar-primary: 140 86% 50%;
    --sidebar-primary-foreground: 210 40% 98%;
    --sidebar-accent: 220 16% 12%;
    --sidebar-accent-foreground: 210 40% 98%;
    --sidebar-border: 220 12% 16%;
    --sidebar-ring: 140 86% 50%;

    --shadow-elegant: 0 10px 30px -10px hsl(140 86% 50% / 0.5);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: "Manrope", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  }
}

/* Utilities and signature interactions */
@layer utilities {
  .gradient-hero {
    background-image: var(--gradient-hero);
  }
  .shadow-elegant { box-shadow: var(--shadow-elegant); }
  .card-ui { @apply bg-card border border-border; box-shadow: var(--shadow-elegant); }
  .font-display { font-family: "Montserrat", "Manrope", ui-sans-serif, system-ui, sans-serif; }
  .font-mono-accent { font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }


  /* Animation utilities */
  @keyframes fade-in { 0% { opacity: 0; transform: translateY(10px);} 100% { opacity: 1; transform: translateY(0);} }
  .animate-fade-in { animation: fade-in 0.4s ease-out both; }
  .hover-scale { transition: transform .2s; }
  .hover-scale:hover { transform: scale(1.05); }
  .story-link { position: relative; display: inline-block; }
  .story-link::after { content: ""; position: absolute; left:0; bottom:0; width:100%; height:2px; background: hsl(var(--primary)); transform: scaleX(0); transform-origin: right; transition: transform .3s; }
  .story-link:hover::after { transform: scaleX(1); transform-origin: left; }

  /* Spotlight background following cursor */
  .interactive-spotlight { position: relative; isolation:isolate; background: radial-gradient(600px circle at var(--x,50%) var(--y,50%), hsl(var(--primary)/0.15), transparent 40%), linear-gradient(180deg, hsl(var(--background)), hsl(var(--muted)/0.3)); }
  .interactive-spotlight:hover { transition: background .15s ease-out; }

  /* Decorative ornament strip (subtle Khakas-inspired pattern) */
  .ornament-strip { height: 12px; width: 100%; background-image: repeating-linear-gradient(90deg, hsl(var(--accent)) 0 24px, transparent 24px 32px, hsl(var(--secondary)) 32px 48px, transparent 48px 56px); opacity: .25; }

  /* Neon network */
  @keyframes dash-move { to { stroke-dashoffset: -1000; } }
  .neon-line { stroke: hsl(var(--primary)); opacity: .85; filter: drop-shadow(0 0 8px hsl(var(--primary) / 0.6)); }
  .neon-node { fill: hsl(var(--accent)); filter: drop-shadow(0 0 6px hsl(var(--accent) / 0.7)); }
  .dash-animate { stroke-dasharray: 6 10; animation: dash-move 20s linear infinite; }
}
